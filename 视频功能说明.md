# 🎥 陪玩师视频介绍功能说明

## ✨ 功能特点

### 自动识别
- 有视频URL：鼠标悬停卡片时**自动播放视频**
- 无视频URL：保持原有的**图片展示**
- 完全兼容现有的陪玩师数据

---

## 📋 使用指南

### 1️⃣ 在管理后台添加视频

1. 进入**管理后台** (双击主页页脚或访问 `admin.html`)
2. 添加/编辑陪玩师时，找到 **🎥 介绍视频URL（可选）** 字段
3. 填入视频链接，例如：
   ```
   https://example.com/intro-video.mp4
   ```
4. 点击**保存**

### 2️⃣ 视频要求

**推荐规格：**
- **格式**: MP4（H.264编码）
- **时长**: 5-10秒
- **分辨率**: 1080x1080 或 720x720（正方形）
- **大小**: 建议 < 5MB
- **内容**: 陪玩师自我介绍、游戏片段等

**技术要求：**
- 必须是**直链**（可直接播放的链接）
- 支持跨域访问（CORS）

---

## 🎬 视觉效果

### 默认状态（无悬停）
- 显示陪玩师**头像图片**
- 右上角显示 **🎥 图标**（闪烁提示）

### 悬停状态
- **视频淡入**（0.4秒过渡）
- **图片淡出**至30%透明度
- 视频**自动播放**（循环、静音）
- 移开鼠标后视频**暂停并重置**

---

## 🎨 设计细节

### 1. 视频指示器
```css
位置: 右上角
颜色: 青色渐变 (#00FFFF)
动画: 脉冲呼吸效果（2秒循环）
作用: 提示用户此卡片有视频
```

### 2. 平滑过渡
```css
图片透明度: 1 → 0.3 (0.4秒)
视频透明度: 0 → 1 (0.4秒)
```

### 3. 自动控制
- ✅ 悬停 → 自动播放
- ✅ 离开 → 自动暂停并重置到第一帧
- ✅ 循环播放（loop）
- ✅ 静音播放（muted，避免打扰）
- ✅ 移动端友好（playsinline）

---

## 📝 示例数据结构

```json
{
  "id": "1",
  "name": "小美",
  "image": "https://example.com/avatar.jpg",
  "video": "https://example.com/intro.mp4",  // ← 新增字段
  "price": "¥50/小时",
  "rating": 4.9,
  "games": ["英雄联盟", "DOTA2"],
  ...
}
```

---

## 🔧 技术实现

### HTML结构
```html
<div class="photo-main">
  <img class="player-image" src="avatar.jpg">
  <!-- 仅在有视频时渲染 -->
  <video class="player-video" loop muted playsinline>
    <source src="intro.mp4" type="video/mp4">
  </video>
  <div class="video-indicator">🎥</div>
</div>
```

### JavaScript控制
```javascript
card.addEventListener('mouseenter', () => {
  video.play();
});

card.addEventListener('mouseleave', () => {
  video.pause();
  video.currentTime = 0; // 重置到开头
});
```

---

## ❓ 常见问题

### Q1: 视频不播放怎么办？
**A:** 检查：
1. 视频链接是否有效（浏览器直接访问能否播放）
2. 视频格式是否为MP4
3. 浏览器是否支持自动播放（部分浏览器限制）

### Q2: 视频加载很慢？
**A:** 
- 优化视频文件大小（推荐<5MB）
- 使用CDN加速
- 降低视频分辨率/码率

### Q3: 不填写视频会怎样？
**A:** 
- 完全正常显示，只展示图片
- 不会出现错误或空白

### Q4: 可以用YouTube链接吗？
**A:** 
- ❌ 不支持YouTube/B站嵌入链接
- ✅ 需要直链（.mp4结尾）
- 💡 可以下载视频后上传到服务器

---

## 🎯 性能优化

1. **预加载优化**
   ```html
   preload="metadata"  // 仅预加载元数据，不预加载整个视频
   ```

2. **懒加载**
   - 视频仅在需要时才开始下载
   - 不影响页面加载速度

3. **资源释放**
   - 离开卡片时暂停播放
   - 避免多个视频同时播放消耗资源

---

## 🚀 建议用途

1. **自我介绍视频** - 展示陪玩师个性
2. **游戏高光片段** - 展示技术水平
3. **声音预览** - 让用户提前了解声线（记得在悬停时unmute）
4. **个性展示** - cosplay、才艺等

---

## 📊 数据结构变化

### 原有字段（保持不变）
```javascript
{
  name, image, photos, price, rating, 
  orders, specialty, games, time, intro, services
}
```

### 新增字段
```javascript
{
  video: "https://..." // 可选，null或空字符串表示无视频
}
```

---

**✅ 功能已完整实现，无需修改现有陪玩师数据，直接使用！**

