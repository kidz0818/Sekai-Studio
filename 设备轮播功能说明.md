# 设备配色轮播功能说明

## 设计理念

采用**卡片内轮播**方案，解决了悬停展开时与其他产品图 overlap 的问题。用户可以在同一个卡片区域内查看所有配色，不占用额外空间，布局更整洁。

## 功能特点

### ✅ 核心优势
- **不遮挡其他内容** - 所有配色在卡片内部切换，不影响布局
- **交互丰富** - 支持按钮、指示器点击、键盘、触摸滑动
- **视觉反馈** - 实时显示当前配色名称，指示器动画流畅
- **移动端友好** - 完美支持触摸滑动切换

### 🎨 交互方式

1. **左右箭头按钮** - 鼠标悬停时显示，点击切换配色
2. **配色指示器** - 底部圆点，点击直接跳转到指定配色
3. **键盘支持** - 左右方向键切换
4. **触摸滑动** - 移动端左右滑动切换
5. **配色标签** - 右上角实时显示当前配色名称

### 🎬 动画效果

- **切换动画**：淡入 + 位移 + 缩放，流畅自然
- **按钮悬停**：缩放 + 发光效果
- **指示器**：活动项拉长显示，悬停放大
- **配色标签**：切换时脉冲动画

## 设备列表

### 🎧 耳机系列
1. **ROG 棱镜2** - 2 种配色（黑/白）
2. **HyperX 飓风3 无线版** - 2 种配色（黑/黑红）

### ⌨️ 键盘系列
3. **ROG AZOTH 夜魔** - 4 种配色（黑色 x2 / 白色 x2）

### 🖱️ 鼠标系列
4. **罗技 G PRO 2** - 5 种配色（黑色 x2 / 白色 x2 / 粉色）
5. **罗技 502 X PLUS** - 1 种配色（黑色）

## 技术实现

### HTML 结构
```html
<div class="equipment-carousel">
    <!-- 切换按钮 -->
    <button class="carousel-btn carousel-prev">◀</button>
    <button class="carousel-btn carousel-next">▶</button>
    
    <!-- 图片容器 -->
    <div class="equipment-image">
        <img class="carousel-image active" src="...">
        <img class="carousel-image" src="...">
    </div>
    
    <!-- 配色指示器 -->
    <div class="carousel-indicators">
        <button class="indicator-dot active"></button>
        <button class="indicator-dot"></button>
    </div>
    
    <!-- 当前配色 -->
    <div class="current-variant-name">黑色</div>
</div>
```

### CSS 关键特性

#### 图片层叠定位
```css
.carousel-image {
    position: absolute;
    opacity: 0;
    transform: translateX(-50%) scale(0.9);
}

.carousel-image.active {
    opacity: 1;
    transform: translateX(-50%) scale(1);
}
```

#### 按钮悬停显示
```css
.carousel-btn {
    opacity: 0;
    transition: all 0.3s ease;
}

.equipment-card:hover .carousel-btn {
    opacity: 1;
}
```

#### 指示器拉伸动画
```css
.indicator-dot {
    width: 10px;
    border-radius: 50%;
}

.indicator-dot.active {
    width: 24px;
    border-radius: 10px;
}
```

### JavaScript 功能

#### 核心方法
```javascript
function goToSlide(index) {
    // 1. 移除当前活动状态
    images[currentIndex].classList.remove('active');
    indicators[currentIndex].classList.remove('active');
    
    // 2. 更新索引
    currentIndex = index;
    
    // 3. 添加新活动状态
    images[currentIndex].classList.add('active');
    indicators[currentIndex].classList.add('active');
    
    // 4. 更新配色名称
    variantName.textContent = getColorName(index);
}
```

#### 事件绑定
- **按钮点击**：阻止冒泡，调用 prevSlide/nextSlide
- **指示器点击**：直接跳转到指定索引
- **键盘**：监听 ArrowLeft/ArrowRight
- **触摸**：touchstart → touchend，计算滑动方向

## 响应式设计

### 桌面端 (> 768px)
- 按钮 40x40px，悬停时显示
- 指示器宽松间距 (8px)
- 完整动画效果

### 移动端 (≤ 768px)
- 按钮 35x35px，默认半透明
- 指示器紧凑间距 (6px)
- 触摸滑动优先

## 如何添加新设备

在 `app.js` 的 `equipmentData` 数组中添加：

```javascript
{
    id: 'unique-device-id',
    category: 'headphone|keyboard|mouse',
    name: '设备名称',
    desc: '设备描述',
    tag: '特性标签',
    variants: [
        { 
            color: '配色名称', 
            colorCode: '#十六进制颜色', 
            image: 'assets/图片.png' 
        },
        { 
            color: '另一个配色', 
            colorCode: '#另一个颜色', 
            image: 'assets/另一张图.png' 
        }
    ]
}
```

**注意事项：**
- `variants` 数组至少 1 个元素
- 只有 1 个配色时，不显示切换按钮和指示器
- `colorCode` 用于指示器显示，应与实际配色对应

## 浏览器兼容性

| 浏览器 | 版本 | 支持度 |
|--------|------|--------|
| Chrome | 90+ | ✅ 完全支持 |
| Edge | 90+ | ✅ 完全支持 |
| Firefox | 88+ | ✅ 完全支持 |
| Safari | 14+ | ✅ 完全支持 |
| 移动浏览器 | - | ✅ 触摸滑动支持 |

## 性能优化

1. **CSS 动画优先** - 使用 transform 和 opacity，硬件加速
2. **事件防抖** - touchstart/touchend 使用 passive 监听
3. **条件渲染** - 单配色设备不渲染轮播控件
4. **图片懒加载** - 使用 onerror 处理缺失图片

## 未来改进方向

- [ ] 自动轮播（可选）
- [ ] 滑动手势动画跟随
- [ ] 缩略图预览模式
- [ ] 颜色选择器集成
- [ ] 无限循环滚动优化

## 对比：为什么选择轮播而非展开？

| 特性 | 轮播方案 ✅ | 展开方案 ❌ |
|------|-----------|-----------|
| 空间占用 | 不占额外空间 | 展开后遮挡其他卡片 |
| 布局稳定性 | 完全稳定 | 可能导致页面抖动 |
| 移动端体验 | 触摸滑动自然 | 悬停不适用，需改为点击 |
| 视觉干扰 | 无干扰 | 展开时视觉混乱 |
| 实现复杂度 | 中等 | 需处理 z-index 和定位 |

## 总结

轮播方案完美解决了原展开方案的 overlap 问题，同时提供了更丰富的交互方式和更好的用户体验。卡片内切换保持了页面的整洁性，适合展示多配色产品的场景。

